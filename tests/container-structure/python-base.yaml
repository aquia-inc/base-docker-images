schemaVersion: 2.0.0

# Test Python base image functionality  
commandTests:
  - name: "Python version check"
    command: "python3"
    args: ["--version"]
    expectedOutput: ["Python 3."]
    
  - name: "User is nonroot"
    command: "whoami" 
    expectedOutput: ["nonroot"]
    
  - name: "Pip is available"
    command: "pip3"
    args: ["--version"]
    expectedOutput: ["pip"]

fileExistenceTests:
  - name: "Version file exists"
    path: "/tmp/versions.txt"
    shouldExist: true

fileContentTests:
  - name: "Version file contains Python version"
    path: "/tmp/versions.txt"
    expectedContents: ["python=3."]
    
  - name: "Version file contains major tag"
    path: "/tmp/versions.txt"
    expectedContents: ["python_major_tag=3"]

metadataTest:
  user: "nonroot"